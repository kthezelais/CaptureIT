<html>

<head>
    <title>Simple TinCanJS Example</title>
    <script src="tincan.js"></script>
    <script>
        var lrs;

        try {
            lrs = new TinCan.LRS({
                endpoint: "http://127.0.0.1:8000/trax/ws/xapi",
                username: "kthezelais",
                password: "tprzo.40",
                allowFail: false
            });
        } catch (ex) {
            console.log("Failed to setup LRS object: ", ex);
        }

        var statement = new TinCan.Statement({
            "actor": {
                "mbox": "mailto:sample.agent@example.com",
                "name": "Sample Agent",
                "objectType": "Agent"
            },
            "verb": {
                "id": "http://adlnet.gov/expapi/verbs/answered",
                "display": {
                    "en-US": "answered"
                }
            },
            "object": {
                "id": "http://www.example.com/tincan/activities/multipart",
                "objectType": "Activity",
                "definition": {
                    "name": {
                        "en-US": "Multi Part Activity"
                    },
                    "description": {
                        "en-US": "Multi Part Activity Description"
                    }
                }
            },
            "attachments": [{
                "usageType": "http://example.com/attachment-usage/test",
                "fileUrl": "http://localhost/dev/test-photo.jpg",
                "display": {
                    "en-US": "A test attachment"
                },
                "description": {
                    "en-US": "A test attachment (description)"
                },
                "contentType": "text/plain; charset=ascii",
                "length": 27,
                "sha2": "495395e777cd98da653df9615d09c0fd6bb2f8d4788394cd53c56a3bfdcd848a"
            }]
        });

        lrs.saveStatement(
            statement, {
                callback: function(err, xhr) {
                    if (err !== null) {
                        if (xhr !== null) {
                            console.log("Failed to save statement: " + xhr.responseText + " (" + xhr.status + ")");
                            // TODO: do something with error, didn't save statement
                            return;
                        }

                        console.log("Failed to save statement: " + err);
                        // TODO: do something with error, didn't save statement
                        return;
                    }

                    console.log("Statement saved");
                    // TOOO: do something with success (possibly ignore)
                }
            }
        );
    </script>
</head>

<body>
    //You donâ€™t actually need a body for this tutorial.
</body>

</html>